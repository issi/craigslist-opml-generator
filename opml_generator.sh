#!/bin/bash

STATES="
  auburn
  bham
  dothan
  shoals
  gadsden
  huntsville
  mobile
  montgomery
  tuscaloosa
  anchorage
  fairbanks
  kenai
  juneau
  flagstaff
  mohave
  phoenix
  prescott
  showlow
  sierravista
  tucson
  yuma
  fayar
  fortsmith
  jonesboro
  littlerock
  texarkana
  bakersfield
  chico
  fresno
  goldcountry
  hanford
  humboldt
  imperial
  inlandempire
  losangeles
  mendocino
  merced
  modesto
  monterey
  orangecounty
  palmsprings
  redding
  sacramento
  sandiego
  sfbay
  slo
  santabarbara
  santamaria
  siskiyou
  stockton
  susanville
  ventura
  visalia
  yubasutter
  boulder
  cosprings
  denver
  eastco
  fortcollins
  rockies
  pueblo
  westslope
  newlondon
  hartford
  newhaven
  nwct
  delaware
  washingtondc
  miami
  daytona
  keys
  fortlauderdale
  fortmyers
  gainesville
  cfl
  jacksonville
  lakeland
  miami
  lakecity
  ocala
  okaloosa
  orlando
  panamacity
  pensacola
  sarasota
  miami
  spacecoast
  staugustine
  tallahassee
  tampa
  treasure
  miami
  albanyga
  athensga
  atlanta
  augusta
  brunswick
  columbusga
  macon
  nwga
  savannah
  statesboro
  valdosta
  honolulu
  boise
  eastidaho
  lewiston
  twinfalls
  bn
  chambana
  chicago
  decatur
  lasalle
  mattoon
  peoria
  rockford
  carbondale
  springfieldil
  quincy
  bloomington
  evansville
  fortwayne
  indianapolis
  kokomo
  tippecanoe
  muncie
  richmondin
  southbend
  terrehaute
  ames
  cedarrapids
  desmoines
  dubuque
  fortdodge
  iowacity
  masoncity
  quadcities
  siouxcity
  ottumwa
  waterloo
  lawrence
  ksu
  nwks
  salina
  seks
  swks
  topeka
  wichita
  bgky
  eastky
  lexington
  louisville
  owensboro
  westky
  batonrouge
  cenla
  houma
  lafayette
  lakecharles
  monroe
  neworleans
  shreveport
  maine
  annapolis
  baltimore
  easternshore
  frederick
  smd
  westmd
  boston
  capecod
  southcoast
  westernmass
  worcester
  annarbor
  battlecreek
  centralmich
  detroit
  flint
  grandrapids
  holland
  jxn
  kalamazoo
  lansing
  monroemi
  muskegon
  nmi
  porthuron
  saginaw
  swmi
  thumb
  up
  bemidji
  brainerd
  duluth
  mankato
  minneapolis
  rmn
  marshall
  stcloud
  gulfport
  hattiesburg
  jackson
  meridian
  northmiss
  natchez
  columbiamo
  joplin
  kansascity
  kirksville
  loz
  semo
  springfield
  stjoseph
  stlouis
  billings
  bozeman
  butte
  greatfalls
  helena
  kalispell
  missoula
  montana
  grandisland
  lincoln
  northplatte
  omaha
  scottsbluff
  elko
  lasvegas
  reno
  nh
  cnj
  jerseyshore
  newjersey
  southjersey
  albuquerque
  clovis
  farmington
  lascruces
  roswell
  santafe
  albany
  binghamton
  buffalo
  catskills
  chautauqua
  elmira
  fingerlakes
  glensfalls
  hudsonvalley
  ithaca
  longisland
  newyork
  oneonta
  plattsburgh
  potsdam
  rochester
  syracuse
  twintiers
  utica
  watertown
  asheville
  boone
  charlotte
  eastnc
  fayetteville
  greensboro
  hickory
  onslow
  outerbanks
  raleigh
  wilmington
  winstonsalem
  bismarck
  fargo
  grandforks
  nd
  akroncanton
  ashtabula
  athensohio
  chillicothe
  cincinnati
  cleveland
  columbus
  dayton
  limaohio
  mansfield
  sandusky
  toledo
  tuscarawas
  youngstown
  zanesville
  lawton
  enid
  oklahomacity
  stillwater
  tulsa
  bend
  corvallis
  eastoregon
  eugene
  klamath
  medford
  oregoncoast
  portland
  roseburg
  salem
  altoona
  chambersburg
  erie
  harrisburg
  lancaster
  allentown
  meadville
  philadelphia
  pittsburgh
  poconos
  reading
  scranton
  pennstate
  williamsport
  york
  providence
  charleston
  columbia
  florencesc
  greenville
  hiltonhead
  myrtlebeach
  nesd
  csd
  rapidcity
  siouxfalls
  sd
  chattanooga
  clarksville
  cookeville
  jacksontn
  knoxville
  memphis
  nashville
  tricities
  abilene
  amarillo
  austin
  beaumont
  brownsville
  collegestation
  corpuschristi
  dallas
  nacogdoches
  delrio
  elpaso
  galveston
  houston
  killeen
  laredo
  lubbock
  mcallen
  odessa
  sanangelo
  sanantonio
  sanmarcos
  bigbend
  texoma
  easttexas
  victoriatx
  waco
  wichitafalls
  logan
  ogden
  provo
  saltlakecity
  stgeorge
  vermont
  charlottesville
  danville
  fredericksburg
  norfolk
  harrisonburg
  lynchburg
  blacksburg
  richmond
  roanoke
  swva
  winchester
  bellingham
  kpr
  moseslake
  olympic
  pullman
  seattle
  skagit
  spokane
  wenatchee
  yakima
  charlestonwv
  martinsburg
  huntington
  morgantown
  wheeling
  parkersburg
  swv
  wv
  appleton
  eauclaire
  greenbay
  janesville
  racine
  lacrosse
  madison
  milwaukee
  northernwi
  sheboygan
  wausau
"

QUERY="kz1000%7C%22kz%201000%22%7CKh500%7C%22500%20h1%22%7C%22750%20h2%22%7C%22kawasaki%20h1%22%7Ckz900%7C%22kz%20900%20Z1%22%7Cz1r%7Cz1-r%7Ckz1000r%7C%22kz%201000r%22%7Ckz1000j%7C%22kz%201000j%22%7Ckz1100r%7Ccb400f%7Ccb1100r%7Cgs1000s%7Cgt380%7Cxlcr"

QUERY=`echo $QUERY|perl -MURI::Escape -lne 'print uri_escape($_)'`


echo '<?xml version="1.0" encoding="UTF-8"?>'
echo '<opml version="1.0">'
echo '  <head>'
echo '    <title>RSS subscriptions for hisaaki_isihara@yahoo.co.jp</title>'
echo '    <dateCreated>Sun, 24 Jul 2016 00:28:46 -0500</dateCreated>'
echo '    <ownerEmail>hisaaki_isihara@yahoo.co.jp</ownerEmail>'
echo '  </head>'
echo '  <body>'
echo '  <outline text="Craigslist Search Sesults" title="Craigslist Search Sesults">'

for s in $STATES; do
  echo "    <outline text=\"Craigslist $s\" title=\"Craigslist $s\" type=\"rss\" xmlUrl=\"http://$s.craigslist.org/search/mca?format=rss&amp;query=$QUERY\" htmlUrl=\"https://$s.craigslist.org/search/mca?&amp;query=$QUERY\" />"
done
echo '    </outline>'
echo '  </body>'
echo '</opml>'
